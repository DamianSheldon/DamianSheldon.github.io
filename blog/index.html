
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Here's where it all happens for me.  | Hello World</title>

<meta name="author" content="Sheldon"> 

<meta name="description" content="Sheldon's personal technology blog about iOS development, Networking, economic, english language, android app development, server back-end &hellip;"> <meta name="keywords" content="iOS Development, Objective-C, App, Apple, Networking, GCD, Operate, Audio, Video">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Hello World" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>
	<header id="header" class="inner"><!-- System header -->
<h1><a href="/">Hello World</a></h1>
<h4>Here's where it all happens for me.</h4>
<nav id="main-nav"><ul>
    <li><a href="/">Blog</a></li>
    <li><a href="/archives">Archive</a></li>
    <li><a href="/ios-development">iOS Development</a></li>
    <li><a href="/Android">Android</a></li>
    <li><a href="/english">English</a></li>
    <li><a href="/about">About</a></li>
</ul>

<!-- System navigation -->
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
    <li><a href="/">Blog</a></li>
    <li><a href="/archives">Archive</a></li>
    <li><a href="/ios-development">iOS Development</a></li>
    <li><a href="/Android">Android</a></li>
    <li><a href="/english">English</a></li>
    <li><a href="/about">About</a></li>
</ul>

<!-- System navigation -->
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:DamianSheldon.github.io">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/ios-technical-interview-part-1.html/">
		
			iOS Technical Interview Part 1</a>
	</h2>
	<div class="entry-content">
		<h3>Explain method swizzling. When you would use it?</h3>

<h3>Take three objects: a grandparent, parent and child. The grandparent retains the parent, the parent retains the child and the child retains the parent. The grandparent releases the parent. Explain what happens.</h3>

<p>Answer:循环保留导致内存泄漏。</p>

<h3>What happens when you invoke a method on a nil pointer?</h3>

<p>Answer:返回0</p>

<p>Reference:<a href="http://nshipster.com/nil/">http://nshipster.com/nil/</a></p>

<h3>Give two separate and independent reasons why retainCount should never be used in shipping code.</h3>

<blockquote><p>There should be no reason to explicitly ask an object what its retain count is (see retainCount). The result is often misleading, as you may be unaware of what framework objects have retained an object in which you are interested. In debugging memory management issues, you should be concerned only with ensuring that your code adheres to the ownership rules.</p></blockquote>

<ol>
<li>结果不正确，因为你不知道框架中哪些对象已经引用了你感兴趣的对象;</li>
<li>产品代码中不应该包含无用代码。</li>
</ol>


<h3>Explain your process for tracing and fixing a memory leak.</h3>

<h3>Explain how an autorelease pool works at the runtime level.</h3>

<h3>When dealing with property declarations, what is the difference between atomic and non-atomic?</h3>

<p>atomic是指存在竞争赋值时，我们会得到某次完整的赋值，而nonatomic则可能是几次赋值共同组合。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@property CGRect domain;
</span><span class='line'>
</span><span class='line'>&lt;b&gt;thread 1:&lt;/b&gt; puppy.domain = CGRectMake (1.0, 2.0, 3.0, 4.0);
</span><span class='line'>&lt;b&gt;thread 2:&lt;/b&gt; puppy.domain = CGRectMake (10.0, 20.0, 30.0, 40.0);
</span><span class='line'>
</span><span class='line'>atomic意味着在竞争赋值的情况下得到的结果是CGRectMake (1.0, 2.0, 3.0, 4.0)或者CGRectMake (10.0, 20.0, 30.0, 40.0)。
</span><span class='line'>
</span><span class='line'>noatomic情况得到的结果可能是CGRectMake (1.0, 2.0, 30.0, 40.0)这种两次组合的乱码。
</span></code></pre></td></tr></table></div></figure>


<p>再进一步，atomic是不是意味着代码是线程安全的呢？不是。atomic修饰符可以保证property的读写操作是串行的，但如果对象的指针不是atomic修饰的，代码仍然不是线程安全的。</p>

<h3>In C, how would you reverse a string as quickly as possible?</h3>

<h3>Which is faster: to iterate through an NSArray or an NSSet?</h3>

<p>NSArray</p>

<p>Reference:<a href="http://www.cocoawithlove.com/2008/08/nsarray-or-nsset-nsdictionary-or.html">http://www.cocoawithlove.com/2008/08/nsarray-or-nsset-nsdictionary-or.html</a></p>

<h3>Explain how code signing works.</h3>

<h3>What is posing in Objective-C?</h3>

<h3>List six instruments that are part of the standard.</h3>

<ol>
<li>Allocations</li>
<li>Core Animation</li>
<li>Leaks</li>
<li></li>
</ol>


<h3>What are the differences between copy and retain?</h3>

<p>copy是新创建一个对象副本；retain则是对象引用计数加一。</p>

<h3>What is the difference between frames and bounds?</h3>

<blockquote><p>The frame property contains the frame rectangle, which specifies the size and location of the view in its superview’s coordinate system.
The bounds property contains the bounds rectangle, which specifies the size of the view (and its content origin) in the view’s own local coordinate system.</p></blockquote>

<h3>What happens when the following code executes? Ball *ball = [[[[Ball alloc] init] autorelease] autorelease];</h3>

<h3>List the five iOS app states.</h3>

<table>
<thead>
<tr>
<th></th>
<th> State </th>
<th> Description </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td> Not Running </td>
<td> The app has not been launched or was running but was terminated by the system.</td>
</tr>
<tr>
<td></td>
<td> Inactive </td>
<td> The app is running in the foreground but is currently not receiving events. (It may be executing other code though.) An app usually stays in this state only briefly as it transitions to a different state.</td>
</tr>
<tr>
<td></td>
<td> Active </td>
<td> The app is running in the foreground and is receiving events. This is the normal mode for foreground apps.</td>
</tr>
<tr>
<td></td>
<td> Background </td>
<td> The app is in the background and executing code. Most apps enter this state briefly on their way to being suspended. However, an app that requests extra execution time may remain in this state for a period of time. In addition, an app being launched directly into the background enters this state instead of the inactive state. For information about how to execute code while in the background</td>
</tr>
<tr>
<td></td>
<td> Suspended </td>
<td> The app is in the background but is not executing code. The system moves apps to this state automatically and does not notify them before doing so. While suspended, an app remains in memory but does not execute any code.</td>
</tr>
</tbody>
</table>


<p>When a low-memory condition occurs, the system may purge suspended apps without notice to make more space for the foreground app.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-01-05T15:44:07+08:00" pubdate data-updated="true">Jan 5<span>th</span>, 2015</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/archives/'>Archives</a>, <a class='category' href='/blog/categories/ios-development/'>iOS Development</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/problems-of-android-development.html/">
		
			Android开发问题汇总</a>
	</h2>
	<div class="entry-content">
		<h3>Android Studio SDK Components安装提示操作超时</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>// MacOS
</span><span class='line'>$ vim /etc/hosts
</span><span class='line'>203.208.46.146 dl.google.com
</span><span class='line'>203.208.46.146 dl-ssl.google.com</span></code></pre></td></tr></table></div></figure>


<h3>Android Studio Check Updates提示连接出错</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>// MacOS
</span><span class='line'>$ vim /Applications/Android\ Studio.app/Contents/Info.plist
</span><span class='line'>
</span><span class='line'>// 搜索 VMOptions
</span><span class='line'>
</span><span class='line'>// 添加如下内容
</span><span class='line'>-Djava.net.preferIPv4Stack=true
</span><span class='line'>-Didea.updates.url=http://dl.google.com/android/studio/patches/updates.xml
</span><span class='line'>-Didea.patches.url=http://dl.google.com/android/studio/patches/
</span><span class='line'>
</span><span class='line'>// 结果
</span><span class='line'>&lt;key&gt;VMOptions&lt;/key&gt;
</span><span class='line'>&lt;string&gt;
</span><span class='line'>-Dfile.encoding=UTF-8 -ea 
</span><span class='line'>-Dsun.io.useCanonCaches=false 
</span><span class='line'>-Djava.net.preferIPv4Stack=true
</span><span class='line'> -Djna.nosys=true 
</span><span class='line'> -Djna.boot.library.path=  
</span><span class='line'> -Djna.debug_load=true 
</span><span class='line'> -Djna.debug_load.jna=true 
</span><span class='line'> -Djsse.enableSNIExtension=false 
</span><span class='line'> -XX:+UseCodeCacheFlushing 
</span><span class='line'> -XX:+UseConcMarkSweepGC 
</span><span class='line'> -XX:SoftRefLRUPolicyMSPerMB=50 
</span><span class='line'> -Xverify:none -Xbootclasspath/a:../lib/boot.jar 
</span><span class='line'> -Djava.net.preferIPv4Stack=true 
</span><span class='line'> -Didea.updates.url=http://dl.google.com/android/studio/patches/updates.xml 
</span><span class='line'> -Didea.patches.url=http://dl.google.com/android/studio/patches/
</span><span class='line'> &lt;/string&gt;
</span><span class='line'>
</span><span class='line'>// 重启 Android Studio</span></code></pre></td></tr></table></div></figure>


<h3>设置Gradle home</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>// Mac OS X
</span><span class='line'>Use local gradle distribution &gt; Gradle home &gt; /Applications/Android Studio.app/Contents/plugins/gradle</span></code></pre></td></tr></table></div></figure>


<h3>The project is using an unsupported version of Gradle</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>The project is using an unsupported version of Gradle.
</span><span class='line'>Please point to a supported Gradle version in the project's Gradle settings or in the project's Gradle wrapper (if applicable.)
</span><span class='line'>
</span><span class='line'>Consult IDE log for more details (Help | Show Log)</span></code></pre></td></tr></table></div></figure>


<h3>Error:Error retrieving parent for item: No resource found that matches the given name &lsquo;android:Theme.AppCompat.Light&rsquo;.</h3>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-12-17T09:38:20+08:00" pubdate data-updated="true">Dec 17<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/android/'>Android</a>, <a class='category' href='/blog/categories/archives/'>Archives</a>

</div>


	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/how-does-app-security-communicate-with-server.html/">
		
			App如何与Server安全交互</a>
	</h2>
	<div class="entry-content">
		<p>大多数App都需和Server通信来提供服务，这中间就牵涉到网络通信安全。网络通信安全是一个很大的话题，本文不打算全面覆盖，而是来理理HTTPS。</p>

<p>移动设备可能会处于不安全的网络环境中，比如连接了某个公共热点，攻击者不需要访问设备，只需访问设备所在的网络，就能获取到用户信息，所以，当应用中用户的信息需要保护时，开发者需要保证通信的安全性。</p>

<p>最简单直接的解决办法是采用HTTPS,在web服务器上安装一个自签名证书，启用HTTPS,然后对NSURLConnection进行配置以接受该自签名证书。</p>

<p>HTTPS是如何做到通信安全的呢？答案是TLS/SSL协议。TLS(Transport Layer Security)/SSL(Secure Socket  Layer)协议是专门为解决网络通信安全设计的。它的基石是非对称加密。</p>

<p>TLS/SSL链路中的数据是加密的，客户端给服务器发送的数据是用服务器的公钥加密的，由于非对称加密的数学特性，只有拥有私钥的服务器才能正确解密数据。服务器给客户端发送的数据则是用自己的私钥加密的，客户端用公钥解密。</p>

<p>那么我们如何判断服务器发给我们的公钥是值得信任的呢？通常商业网站的数字证书都是由中级证书或根证书来签名，而根证书是一开始就内置在设备中，不是通过网络交换的，这样当某个服务器声明说我是某某，我们可以通过证书链来判断真伪。</p>

<p>根证书其实是一个自签名证书，我们的应用也可以用自签名证书来确保网络通信安全，还可以省掉很大一笔证书费用，只要私钥足够安全，它甚至比商业证书更安全。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-12-15T11:53:11+08:00" pubdate data-updated="true">Dec 15<span>th</span>, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/archives/'>Archives</a>, <a class='category' href='/blog/categories/ios-development/'>iOS Development</a>

</div>


	
</div></article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    Sheldon


- 署名 - 非商业 - 非衍生 - Powered by Octopress.</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-52345084-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
