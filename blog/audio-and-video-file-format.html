
<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>音频和视频格式  | Hello World</title>

        <meta name="author" content="Sheldon"> 
        
        <meta name="description" content="Summary iOS and Android support audio and video codec format"> <meta name="keywords" content="Audio, Video, Codec, iOS, Android">

        <meta name="viewport" content="width=device-width">
        
        
        <link rel="canonical" href="http://DamianSheldon.github.io/blog/audio-and-video-file-format.html">

        <link href="/atom.xml" rel="alternate" title="Hello World" type="application/atom+xml">
        <link href="/favicon.png" rel="icon">
        <link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
        
        <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
        <script src="/javascripts/libs/jquery.min.js"></script>
        <script src="/javascripts/navigation-toggle.js" type="text/javascript"></script>
        <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">

    </head>



<body>
	<header id="header" class="inner"><h1><a href="/">Hello World</a></h1>
<h4>Here's where it all happens for me.</h4>

<!-- Navigation -->

<nav role="navigation">
    <div class="inner">
        <a href="#nav" class="nav-collapse" id="nav-collapse">Navigation</a>
        <ul class="nav" id="nav">
    <li class="active"><a href="/">Blog</a></li>
    <li><a href="/archives">Archive</a></li>
    <li><a href="/ios-development">iOS</a></li>
    <li><a href="/android">Android</a></li>
    <li><a href="/web-development">Web</a></li>
    <li><a href="/english">English</a></li>
    <li><a href="/about">About</a></li>
    
    <form action="https://www.bing.com/search" method="get" accept-charset="utf-8" target="_blank">
        <input type="text" name="q" maxlength="255" placeholder="Search">
        <input type="hidden" name="q1" value="site:DamianSheldon.github.io">
    </form>
</ul>
    </div>
</nav>

<a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a>
</header>

	<div id="content" class="inner"><article class="post">
	<h2 class="title">音频和视频格式</h2>
        
    <div class="meta">
	   <div class="date">









  



<time datetime="2016-10-21T15:15:53+08:00" pubdate data-updated="true">21 Oct 2016</time></div>
	   

<div class="tags">

	<a class='category' href='/blog/categories/archive/'>archive</a>, <a class='category' href='/blog/categories/archives/'>archives</a>, <a class='category' href='/blog/categories/ios-development/'>ios development</a>

</div>


    </div>
    
	<div class="entry-content"><h2>音频格式</h2>

<p>我们通常说的音频格式准确地讲应该是音频文件格式，它是计算机系统上用于存放数字音频数据的文件格式，也可以看作一个容器。</p>

<p>音频数据的比特分布我们称为音频编码格式，它可以非压缩编码或压缩编码。压缩编码又分为无损压缩和有损压缩。</p>

<p>编码器(codec)就是来编解码原始音频数据的。</p>

<p>声音源 <code>--ADC--&gt;</code> raw audio data <code>--codec--&gt;</code> audio data(uncompressed/compressed) <code>--packed--&gt;</code> audio file format(container format)</p>

<blockquote><p>An audio file format is a file format for storing digital audio data on a computer system. The bit layout of the audio data (excluding metadata) is called the audio coding format and can be uncompressed, or compressed to reduce the file size, often using lossy compression. The data can be a raw bitstream in an audio coding format, but it is usually embedded in a container format or an audio data format with defined storage layer.</p>

<p>It is important to distinguish between the audio coding format, the container containing the raw audio data, and an audio codec. A codec performs the encoding and decoding of the raw audio data while this encoded data is (usually) stored in a container file. Although most audio file formats support only one type of audio coding data (created with an audio coder), a multimedia container format (as Matroska or AVI) may support multiple types of audio and video data.</p>

<p>There are three major groups of audio file formats:</p>

<p>  • Uncompressed audio formats, such as WAV, AIFF, AU or raw header-less PCM;</p>

<p>  • Formats with lossless compression, such as FLAC, Monkey&rsquo;s Audio (filename extension .ape), WavPack (filename extension .wv), TTA, ATRAC Advanced Lossless, ALAC (filename extension .m4a), MPEG-4 SLS, MPEG-4 ALS, MPEG-4 DST, Windows Media Audio Lossless (WMA Lossless), and Shorten (SHN).</p>

<p>  • Formats with lossy compression, such as Opus, MP3, Vorbis, Musepack, AAC, ATRAC and Windows Media Audio Lossy (WMA lossy).</p></blockquote>

<!--more-->


<h2>视频格式</h2>

<p>视频文件格式是计算机系统上一种用来存放数字视频数据的文件格式。视频几乎都是以压缩格式的形式存储的以便减小文件大小。</p>

<p>视频文件格式也是一个容器，里面包含编码完的视频和音频数据，同样是使用编码器来完成编解码工作。</p>

<blockquote><p>A video file format is a type of file format for storing digital video data on a computer system. Video is almost always stored in compressed form to reduce the file size.</p>

<p>A video file normally consists of a container format (e.g. Matroska) containing video data in a video coding format (e.g. VP9) alongside audio data in an audio coding format (e.g. Opus). The container format can also contain synchronization information, subtitles, and metadata such as title. A standardized (or in some cases de facto standard) video file type such as .webm is a profilespecified by a restriction on which container format and which video and audio compression formats are allowed.</p>

<p>The coded video and audio inside a video file container (i.e. not headers, footers and metadata) is called the essence. A program (or hardware) which can decode video or audio is called a codec; playing or encoding a video file will sometimes require the user to install a codec library corresponding to the type of video and audio coding used in the file.</p></blockquote>

<h2>iOS and Android supported audio &amp; video codec formats</h2>

<h3>iOS</h3>

<p>在 iOS Technology Overview 中 Apple 介绍说，</p>

<p>iOS supports many industry-standard and Apple-specific audio formats, including the following:</p>

<ul>
<li>AAC</li>
<li>Apple Lossless (ALAC)</li>
<li>A-law</li>
<li>IMA/ADPCM (IMA4)</li>
<li>Linear PCM</li>
<li>µ-law</li>
<li>DVI/Intel IMA ADPCM</li>
<li>Microsoft GSM 6.10</li>
<li>AES3-2003</li>
</ul>


<p>Preferred Audio Formats in iOS</p>

<ul>
<li><p>For uncompressed (highest quality) audio, use 16-bit, little endian, linear PCM audio data packaged in a CAF file.</p></li>
<li><p>For compressed audio when playing one sound at a time, and when you don’t need to play audio simultaneously with the iPod application, use the AAC format packaged in a CAF or m4a file.</p></li>
<li>For less memory usage when you need to play multiple sounds simultaneously, use IMA4 (IMA/ADPCM) compression. This reduces file size but entails minimal CPU impact during decompression. As with linear PCM data, package IMA4 data in a CAF file.</li>
</ul>


<p>iOS supports many industry-standard video formats and compression standards, including the following:</p>

<ul>
<li>H.264 video, up to 1.5 Mbps, 640 by 480 pixels, 30 frames per second, Low-Complexity version of the H.264 Baseline Profile with AAC-LC audio up to 160 Kbps, 48 kHz, stereo audio in .m4v, .mp4, and .mov file formats</li>
<li>H.264 video, up to 768 Kbps, 320 by 240 pixels, 30 frames per second, Baseline Profile up to Level 1.3 with AAC-LC audio up to 160 Kbps, 48 kHz, stereo audio in .m4v, .mp4, and .mov file formats</li>
<li>MPEG-4 video, up to 2.5 Mbps, 640 by 480 pixels, 30 frames per second, Simple Profile with AAC-LC audio up to 160 Kbps, 48 kHz, stereo audio in .m4v, .mp4, and .mov file formats</li>
<li>Numerous audio formats, including the ones listed in Audio Technologies</li>
</ul>


<p>在 Multimedia Programming Guide 的 Using Audio 中对音频格式相应介绍如下，</p>

<p>Audio playback formats and codecs</p>

<table>
<thead>
<tr>
<th style="text-align:left;"> Audio decoder/playback format </th>
<th style="text-align:left;"> Hardware-assisted decoding </th>
<th style="text-align:left;"> Software-based decoding </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;"> AAC (MPEG-4 Advanced Audio Coding) </td>
<td style="text-align:left;"> Yes </td>
<td style="text-align:left;"> Yes, starting in iOS 3.0 </td>
</tr>
<tr>
<td style="text-align:left;"> ALAC (Apple Lossless) </td>
<td style="text-align:left;"> Yes </td>
<td style="text-align:left;"> Yes, starting in iOS 3.0 </td>
</tr>
<tr>
<td style="text-align:left;"> HE-AAC (MPEG-4 High Efficiency AAC) </td>
<td style="text-align:left;"> Yes </td>
<td style="text-align:left;"> - </td>
</tr>
<tr>
<td style="text-align:left;"> iLBC (internet Low Bitrate Codec, another format for speech) </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
<tr>
<td style="text-align:left;"> IMA4 (IMA/ADPCM) </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
<tr>
<td style="text-align:left;"> Linear PCM (uncompressed, linear pulse-code modulation) </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
<tr>
<td style="text-align:left;"> MP3 (MPEG-1 audio layer 3) </td>
<td style="text-align:left;"> Yes </td>
<td style="text-align:left;"> Yes, starting in iOS 3.0 </td>
</tr>
<tr>
<td style="text-align:left;"> µ-law and a-law </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
</tbody>
</table>


<p>Audio recording formats and codecs</p>

<table>
<thead>
<tr>
<th style="text-align:left;"> Audio encoder/recording format </th>
<th style="text-align:left;"> Hardware-assisted encoding </th>
<th style="text-align:left;"> Software-based encoding </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;"> AAC (MPEG-4 Advanced Audio Coding) </td>
<td style="text-align:left;"> Yes, starting in iOS 3.1 for iPhone 3GS and iPod touch (2nd generation) Yes, starting in iOS 3.2 for iPad </td>
<td style="text-align:left;"> Yes, starting in iOS 4.0 for iPhone 3GS and iPod touch (2nd generation) </td>
</tr>
<tr>
<td style="text-align:left;"> ALAC (Apple Lossless) </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
<tr>
<td style="text-align:left;"> iLBC (internet Low Bitrate Codec, for speech) </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
<tr>
<td style="text-align:left;"> IMA4 (IMA/ADPCM) </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
<tr>
<td style="text-align:left;"> Linear PCM (uncompressed, linear pulse-code modulation) </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
<tr>
<td style="text-align:left;"> µ-law and a-law </td>
<td style="text-align:left;"> - </td>
<td style="text-align:left;"> Yes </td>
</tr>
</tbody>
</table>


<p>我们将上面的信息综合，可以得到下表：</p>

<table>
<thead>
<tr>
<th style="text-align:left;"> Format / Codec </th>
<th style="text-align:center;"> Encoder </th>
<th style="text-align:center;"> Decoder </th>
<th style="text-align:left;"> File Extension </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;"> AAC (MPEG-4 Advanced Audio Coding) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> MPEG/3GPP container <br> .m4a, .mp4, .3gp <br> Apple container <br> .m4a, .m4b, .m4p, .m4r, .m4v <br> ADTS stream <br> .aac </td>
</tr>
<tr>
<td style="text-align:left;"> ALAC (Apple Lossless) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .m4a .caf </td>
</tr>
<tr>
<td style="text-align:left;"> HE-AAC (MPEG-4 High Efficiency AAC) </td>
<td style="text-align:center;"> No</td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> Same as AAC </td>
</tr>
<tr>
<td style="text-align:left;"> iLBC (internet Low Bitrate Codec, another format for speech) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .lbc </td>
</tr>
<tr>
<td style="text-align:left;"> IMA4 (IMA/ADPCM) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;">  </td>
</tr>
<tr>
<td style="text-align:left;"> Linear PCM (uncompressed, linear pulse-code modulation) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .L16, .WAV, .AIFF, .AU, .PCM </td>
</tr>
<tr>
<td style="text-align:left;"> MP3 (MPEG-1 audio layer 3) </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .mp3 </td>
</tr>
<tr>
<td style="text-align:left;"> µ-law and a-law </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> Same as Linear PCM </td>
</tr>
</tbody>
</table>


<h3>Android</h3>

<p>Audio</p>

<table>
<thead>
<tr>
<th style="text-align:left;"> Format / Codec </th>
<th style="text-align:center;"> Encoder </th>
<th style="text-align:center;"> Decoder </th>
<th style="text-align:left;"> File Extension </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;"> AAC LC </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> MPEG/3GPP container <br> .m4a, .mp4, .3gp <br> Apple container <br> .m4a, .m4b, .m4p, .m4r, .m4v <br> ADTS stream <br> .aac </td>
</tr>
<tr>
<td style="text-align:left;"> HE-AACv1 (AAC+) </td>
<td style="text-align:center;"> Yes(Android 4.1+) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;">  </td>
</tr>
<tr>
<td style="text-align:left;"> HE-AACv2 (enhanced AAC+) </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;">  </td>
</tr>
<tr>
<td style="text-align:left;"> AAC ELD (enhanced low delay AAC) </td>
<td style="text-align:center;"> Yes(Android 4.1+) </td>
<td style="text-align:center;"> Yes(Android 4.1+) </td>
<td style="text-align:left;">  </td>
</tr>
<tr>
<td style="text-align:left;"> AMR-NB </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .3gp </td>
</tr>
<tr>
<td style="text-align:left;"> AMR-WB </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .3gp </td>
</tr>
<tr>
<td style="text-align:left;"> FLAC </td>
<td style="text-align:center;"> Yes(Android 4.1+) </td>
<td style="text-align:center;"> Yes(Android 3.1+) </td>
<td style="text-align:left;"> .flac </td>
</tr>
<tr>
<td style="text-align:left;"> GSM </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .gsm </td>
</tr>
<tr>
<td style="text-align:left;"> MIDI </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> Type 0 and 1 (.mid, .xmf, .mxmf)<br>RTTTL/RTX (.rtttl, .rtx)<br>OTA (.ota) <br>iMelody (.imy) </td>
</tr>
<tr>
<td style="text-align:left;"> MP3 </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .mp3 </td>
</tr>
<tr>
<td style="text-align:left;"> Opus </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes(Android 5.0+) </td>
<td style="text-align:left;"> .mkv </td>
</tr>
<tr>
<td style="text-align:left;"> PCM/WAVE </td>
<td style="text-align:center;"> Yes(Android 4.1+) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> .wav </td>
</tr>
<tr>
<td style="text-align:left;"> Vorbis </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> Ogg (.ogg) <br>Matroska (.mkv, Android 4.0+) </td>
</tr>
</tbody>
</table>


<p>Video</p>

<table>
<thead>
<tr>
<th style="text-align:left;"> Format / Codec </th>
<th style="text-align:center;"> Encoder </th>
<th style="text-align:center;"> Decoder </th>
<th style="text-align:left;"> File Extension </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;"> H.263 </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> 3GPP (.3gp) <br>MPEG-4 (.mp4) </td>
</tr>
<tr>
<td style="text-align:left;"> H.264 AVC Baseline Profile (BP) </td>
<td style="text-align:center;"> Yes(Android 3.0+) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> 3GPP (.3gp)<br>MPEG-4 (.mp4)<br>MPEG-TS (.ts, AAC audio only, not seekable, Android 3.0+) </td>
</tr>
<tr>
<td style="text-align:left;"> H.264 AVC Main Profile (MP) </td>
<td style="text-align:center;"> Yes(Android 6.0+) </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;">  </td>
</tr>
<tr>
<td style="text-align:left;"> H.265 HEVC </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes(Android 5.0+) </td>
<td style="text-align:left;"> MPEG-4 (.mp4) </td>
</tr>
<tr>
<td style="text-align:left;"> MPEG-4 SP </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes </td>
<td style="text-align:left;"> 3GPP (.3gp) </td>
</tr>
<tr>
<td style="text-align:left;"> VP8 </td>
<td style="text-align:center;"> Yes(Android 4.3+) </td>
<td style="text-align:center;"> Yes(Android 2.3.3+) </td>
<td style="text-align:left;"> WebM (.webm)<br> Matroska (.mkv, Android 4.0+) </td>
</tr>
<tr>
<td style="text-align:left;"> VP9 </td>
<td style="text-align:center;"> No </td>
<td style="text-align:center;"> Yes(Android 4.4+) </td>
<td style="text-align:left;"> WebM (.webm)<br> Matroska (.mkv, Android 4.0+) </td>
</tr>
</tbody>
</table>


<h3>iOS 和 Android 都支持的音频、视频格式</h3>

<p>Audio</p>

<ul>
<li>AAC LC (Low-Complexity profile)</li>
<li>Linear PCM</li>
<li>MP3(Decode only)</li>
</ul>


<p>Video</p>

<ul>
<li>H.264 AVC</li>
<li>MPEG-4 SP (Simple Profile)</li>
</ul>


<p>Profile</p>

<p>To address various applications ranging from low-quality, low-resolution surveillance cameras to high definition TV broadcasting and DVDs, many video standards group features into profiles and levels. MPEG-4 Part 2 has approximately 21 profiles, including profiles called Simple, Advanced Simple, Main, Core, Advanced Coding Efficiency, Advanced Real Time Simple, etc. The most commonly deployed profiles are Advanced Simple and Simple, which is a subset of Advanced Simple.</p>

<h2>Reference:</h2>

<ul>
<li><a href="https://en.wikipedia.org/wiki/Audio_file_format">Audio file format</a></li>
<li><a href="https://en.wikipedia.org/wiki/Video_file_format">Video file format</a></li>
<li>iOS Technology Overview</li>
<li><a href="https://developer.android.com/guide/appendix/media-formats.html">Supported Media Formats</a></li>
<li>Multimedia Programming Guide</li>
</ul>

</div>


        
</article>

	<div class="share">
	<div>
	
	
	
    
    
        <!-- Gitment BEGIN -->
<div id="comments"></div>
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
// Limit label length less than 50 characters.
var label_for_comment = document.URL;
if (label_for_comment.length > 50) {
    label_for_comment = label_for_comment.substring(label_for_comment.length - 50, label_for_comment.length - 1);
}

const gitment = new Gitment({
id: label_for_comment,
owner: 'DamianSheldon',
repo: 'gitment',
oauth: {
client_id: '534142482825f386df90',
client_secret: '19183fe61a33fcfae35316435bf3f4d516295c38',
},
// ...
// For more available options, check out the documentation below
})

gitment.render('comments')
</script>
<!-- Gitment -->

    
    
	</div>
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2014 - 2019

    Sheldon

<br>
<p>Powered by <a href="http://octopress.org">Octopress</p>
</footer>
	<script src="/javascripts/slash.js"></script>




<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-52345084-1');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->




</body>
</html>
