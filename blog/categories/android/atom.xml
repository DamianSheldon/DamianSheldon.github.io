<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: android | Hello World]]></title>
  <link href="http://DamianSheldon.github.io/blog/categories/android/atom.xml" rel="self"/>
  <link href="http://DamianSheldon.github.io/"/>
  <updated>2017-09-25T09:26:11+08:00</updated>
  <id>http://DamianSheldon.github.io/</id>
  <author>
    <name><![CDATA[Sheldon]]></name>
    <email><![CDATA[dongmeilianghy@sina.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Android 开发问题汇总(四)]]></title>
    <link href="http://DamianSheldon.github.io/blog/problems-of-android-development-part-4.html"/>
    <updated>2017-05-14T16:56:19+08:00</updated>
    <id>http://DamianSheldon.github.io/blog/problems-of-android-development-part-4</id>
    <content type="html"><![CDATA[<h3>1.怎么给 Button 加上圆角?</h3>

<p>A:Create an xml inside Drawable Folder with below code. Name it rounded_red_border.xml</p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle"&gt;

// The width and color of the border   
 &lt;stroke
        android:width="4dp"
        android:color="#de3d3d" /&gt;

// The desired corner radius. reduce it to keep it less rounded
    &lt;corners android:radius="360dp" /&gt;

// Add your desired padding
    &lt;padding
        android:left="20dp"
        android:top="10dp"
        android:right="20dp"
        android:bottom="10dp"    &gt;
    &lt;/padding&gt;

&lt;/shape&gt;
</code></pre>

<p>Applying the border to a Layout or View</p>

<p>Set the above drawable as a background to your Layout or View like LinearLayout, FrameLayout, TextView, Button etc.</p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"&gt;


// Apply as the background of TextView
&lt;TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="YOUR TEXT"
    android:textSize="20dp"
    android:textStyle="bold"
    android:background="@drawable/rounded_red_border"
    android:textColor="#000"
    android:layout_centerInParent="true"/&gt;


&lt;/RelativeLayout&gt;
</code></pre>

<p>Reference:<a href="http://www.gadgetsaint.com/tips/rounded-corners-views-layouts-android/#.WRgR3FOGORt">Add Rounded Corners to Views and Layouts Android</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android开发问题汇总(三)]]></title>
    <link href="http://DamianSheldon.github.io/blog/problems-of-android-development-part-3.html"/>
    <updated>2017-04-05T08:48:36+08:00</updated>
    <id>http://DamianSheldon.github.io/blog/problems-of-android-development-part-3</id>
    <content type="html"><![CDATA[<h3>1. How to define custom attributes?</h3>

<p>A:Currently the best documentation is the source. You can take a look at it <a href="https://github.com/android/platform_frameworks_base/blob/master/core/res/res/values/attrs.xml">here(arrts.xml)</a>.</p>

<p>You can define attributes in the top <code>&lt;resources&gt;</code> element or inside of a <code>&lt;declare-styleable&gt;</code> element. If I&rsquo;m going to use an attr in more than on place I put it in the root element. Note , all attributes share the same global namespace. That means that even if you create a new attribute inside of a <code>&lt;declare-styleable&gt;</code> element it can be used outside of it and you cannot create another attribute with the same name of a different type.</p>

<p>An <code>&lt;attr&gt;</code> element has two xml attributes <code>name</code> and <code>format</code>. <code>name</code> lets you call it something and this how you end up refering to it in code, e.g., R.attr.my_attribute. The <code>format</code> attribute can have different values depending on the type of attribute you want.</p>

<ul>
<li>reference - if it references another resource id(e.g, &ldquo;@color/my_color&rdquo;, &ldquo;@layout/my_layout&rdquo;)</li>
<li>color</li>
<li>boolean</li>
<li>dimension</li>
<li>float</li>
<li>integer</li>
<li>string</li>
<li>fraction</li>
<li>enum - normally implicitly defined</li>
<li>flag - normally implicitly defined</li>
</ul>


<p>You can set the format to multiple types by using |, e.g., <code>format="reference|color"</code>.</p>

<p>enum attributes can be defined as follows:</p>

<pre><code>&lt;attr name="my_enum_attr"&gt; 
    &lt;enmu name="value1" value="1" /&gt;
    &lt;enmu name="value2" value="2" /&gt;
&lt;/attr&gt;
</code></pre>

<p>flag attributes are similar except the values need to defined so they can be bit ored together:</p>

<pre><code>&lt;attr name="my_flag_attr"&gt;
    &lt;flag name="fuzzy" value="0x01" /&gt;
    &lt;flag name="cold" value="0x02" /&gt;
&lt;/attr&gt;
</code></pre>

<!--more-->


<p>In addition to attributes there is the <code>&lt;declare-styleable&gt;</code> element. This allows you to define attributes a custom view can use. You do this by specifying an <code>&lt;attr&gt;</code> element, if it was previously defined you do not specify the format. If you wish to reuse an android attr, for example android:gravity, then you can do that in the name, as follows.</p>

<p>An example of a custom view <code>&lt;declare-styleable&gt;</code>:</p>

<pre><code>&lt;declare-styleable name="MyCustomView"&gt; 
    &lt;attr name="my_custom_attribute" /&gt;
    &lt;attr name="android:gravity" /&gt;
&lt;/declare-styleable&gt;
</code></pre>

<p>When defining you custom attributes in XML on you need to do a few things.</p>

<p>First you must declare a namespace to find your attributes. You do this on the root layout element. Normal there is only <code>xmlns:android="http//schemas.android.com/apk/res/android"</code>. You must now also add <code>xmlns:app="http://schemas.android.com/apk/res-auto"</code>.</p>

<p>Example:</p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:whatever="http://schemas.android.com/apk/res-auto"
android:orientation="vertical"
android:layout_width="fill_parent"
android:layout_height="fill_parent"&gt;

&lt;org.example.mypackage.MyCustomView
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:gravity="center"
whatever:my_custom_attribute="Hello, world!" /&gt;
&lt;/LinearLayout&gt;
</code></pre>

<p>Finally, to access that custom attribute you normally do so in the constructor of you custom view as follows:</p>

<pre><code>public MyCustomView(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);

    TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.MyCustomView, defStyle, 0);

    String str = a.getString(R.styleable.MyCustomView_my_custom_attribute);

    //do something with str

    a.recycle();
}
</code></pre>

<p>Reference:<a href="http://stackoverflow.com/questions/3441396/defining-custom-attrs">Defining custom attrs</a></p>

<h3>2. How to get Uri from raw file?</h3>

<p>A: <code>Uri url = Uri.parse("android.resource://" + getPackageName() + "/" + R.raw.usa_for_africa_we_are_the_world);</code></p>

<p>Reference:<a href="http://stackoverflow.com/questions/16791439/android-how-to-get-uri-from-raw-file">Android - How to get Uri from raw file?</a></p>

<h3>3. How to display all music on SD card?</h3>

<p>A: We can use loader perform this work,</p>

<pre><code>public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {
    return new CursorLoader(getActivity(), MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, new String[] { MediaStore.Audio.Media.DISPLAY_NAME }, null, null,
      "LOWER(" + MediaStore.Audio.Media.TITLE + ") ASC");    
}
</code></pre>

<p>Reference:<a href="http://stackoverflow.com/questions/8994625/display-all-music-on-sd-card">Display all music on SD card</a></p>

<h3>4. Call require API level 21(current min is 10):android.content.Context#getDrawable.</h3>

<p>A:<code>ContextCompat.getDrawable(getActivity(), R.drawable.name);</code></p>

<p>Reference:<a href="http://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22/29041466#29041466">Android getResources().getDrawable() deprecated API 22</a></p>

<h3>5. Android Studio 工程卡在 Refreshing &lsquo;Project Name&rsquo; Gradle project 或 gradle building project。</h3>

<p>A: Android Studio 更新到 2.3 后，打开之前的项目卡在 Refreshing &lsquo;Project Name&rsquo; Gradle project, 问题的原因是新版本的 Android Studio 使用的也是新版本的 Gradle,由于网络原因导致更新 Gradle 很慢，我们可以手动下载 Gradle 来解决这个问题。</p>

<ol>
<li>根据项目中 gradle-wrapper.properties 文件的配置，手动下载合适版本的 gradle;</li>
</ol>


<pre><code>distributionUrl=https\://services.gradle.org/distributions/gradle-3.3-all.zip
</code></pre>

<ol>
<li>将下载好的 gradle 移动到合适的位置;</li>
</ol>


<pre><code>// Windows
C:\Users\用户名.gradle\wrapper\dists\gradle-x.xx-all\xxxxxxxxxxxx
// MacOS
$HOME/.gradle/wrapper/dists/gradle-3.3-all/55gk2rcmfc6p2dg9u9ohc3hw9/
</code></pre>

<ol>
<li>重启 Android Studio。</li>
</ol>


<p>Reference:
<a href="http://www.jianshu.com/p/3063173deed8">Android Studio解决refreshing gradle project</a><br/>
<a href="http://zzqhost.com/?post=82">Androidstudio配置本地Gradle</a></p>

<h3>6. 怎么改变 EditText 输入框底部线条的颜色？</h3>

<p>A: 在 style.xml 中覆盖 colorControlActivated, ColorControlHighlight 和 colorControlNormal</p>

<p>```</p>



<pre><code>
Reference:[Changing EditText bottom line color with appcompat v7](https://stackoverflow.com/questions/26574328/changing-edittext-bottom-line-color-with-appcompat-v7)

###7.如何隐藏软键盘？
A:
</code></pre>

<p>// Check if no view has focus:
View view = this.getCurrentFocus();
if (view != null) {<br/>
    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);
}
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Reference:&lt;a href="https://stackoverflow.com/questions/1109022/close-hide-the-android-soft-keyboard"&gt;Close/hide the Android Soft Keyboard&lt;/a&gt;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h3&gt;8.ListView 中的 EditText 捕获焦点异常。&lt;/h3&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;A:在 manifest 中配置下 Activity :&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;&lt;activity android:name= ".yourActivity" android:windowSoftInputMode="adjustPan"/&gt;
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;Reference:&lt;a href="https://stackoverflow.com/questions/2679948/focusable-edittext-inside-listview"&gt;Focusable EditText inside ListView&lt;/a&gt;&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;h3&gt;9.Android Studio 如何设置使用本地 gradle?&lt;/h3&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;A:&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;ol&gt;
</span><span class='line'>&lt;li&gt;下载 gradle;&lt;/li&gt;
</span><span class='line'>&lt;li&gt;解压 gradle 到合适的目录，例如 /Users/meiliang/.gradle/local_gradle_distribution/;&lt;/li&gt;
</span><span class='line'>&lt;li&gt;在 Android Studio 中设置 gradle home:</span></code></pre></td></tr></table></div></figure>
Android Studio > Preference&hellip; > Build,Excution,Deployment > Gradle > User local gradle distribution > Gradle home</li>
</ol>


<p> Gradle home :/Users/meiliang/.gradle/local_gradle_distribution/gradle-3.3
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android 真机抓包]]></title>
    <link href="http://DamianSheldon.github.io/blog/capturing-android-physic-device-traffic-on-tcpdump.html"/>
    <updated>2017-03-11T17:04:33+08:00</updated>
    <id>http://DamianSheldon.github.io/blog/capturing-android-physic-device-traffic-on-tcpdump</id>
    <content type="html"><![CDATA[<p>在 Android 开发过程中，可能会遇到和服务端交互有问题的情况，这时候就得拿出证据来和服务端撕逼, 而最有力的证据自然是抓取的网络数据包；又或者是遇到很诡异的网络问题，这时候就可以借助抓包来分析和定位问题。</p>

<p>如果我们和服务端的交互没有通过 VPN, 而且也不是视频流这种网络性能要求苛刻的情况，我们可以通过 tPacketCapture 这种应用来抓包；</p>

<p>其他情况我们可以通过 root 手机，然后安装 tcpdump 来抓包。</p>

<p>下面我们详细介绍下 通过 tcpdump 抓包这种方法：</p>

<ul>
<li>Root 手机</li>
</ul>


<p>Root 手机的原理是利用系统存在的漏洞来获得 root 权限，<a href="https://forum.xda-developers.com/">XDA Developers</a> 上有不少 root 工具，很多手机都可以用它们 root。</p>

<ul>
<li>安装 tcpdump</li>
</ul>


<p>可以到网上搜索为 Android 编译好的 tcpdump 二进制包，例如<a href="http://www.strazzere.com/android/tcpdump">这里</a>就有一个。</p>

<pre><code>// Copy tcpdump to device
$ adb -d push /path/to/tcpdump /sdcard/tcpdump

// Device shell
$ adb -d shell

// Switch to root
$ su

// Copy tcpdump to /data/local/
# cat /sdcard/tcpdump /data/local/tcpdump
</code></pre>

<!--more-->


<ul>
<li>抓包</li>
</ul>


<pre><code>/# cd /data/local
/# ./tcpdump -i any -p -s 0 -w /sdcard/capture.pcap

//  Options
    # "-i any": listen on any network interface

　　# "-p": disable promiscuous mode (doesn't work anyway)

　　# "-s 0": capture the entire packet

　　# "-w": write packets to a file (rather than printing to stdout)

　　... do whatever you want to capture, then ^C to stop it ...
</code></pre>

<ul>
<li>分析</li>
</ul>


<pre><code>// Copy capture.pcap to computer
$ adb -d pull /sdcard/capture.pcap /path/to/capture.pcap

Analyze with Wireshark.
</code></pre>

<ul>
<li>Shell Commands</li>
</ul>


<p>Android 手机上的命令通常不全，我们可以通过安装 BusyBox 来提供一个相对完成 Shell 命令集方便我们的开发工作。</p>

<p>1,Download <a href="http://www.busybox.net/downloads/binaries">BusyBox</a> 的压缩包;<br/>
2,获取设备 CPU 的架构版本 <code>adb -d shell cat /proc/cpuinfo</code><br/>
3,解开压缩包，把对应 CPU 架构版本的二进制包生命名为 busybox,例如 <code>mv busybox-armv7l busybox</code>;<br/>
4,安装 busybox 到设备上，</p>

<pre><code>// Copy busybox to device
$adb -d push /path/to/busybox /sdcard/busybox

// Switch to device shell
$adb -d shell

// Install busybox
$ su

\# cat /sdcard/busybox /system/xbin/busybox

// Check install result
# busybox 

...
</code></pre>

<h2>Reference</h2>

<ul>
<li><a href="http://www.cnblogs.com/likwo/archive/2012/09/06/2673944.html">Android通过tcpdump抓包</a></li>
<li><a href="http://www.cnblogs.com/blues_/p/3582097.html">转adb Shell root 权限</a></li>
<li><a href="http://www.cnblogs.com/xiaowenji/archive/2011/03/12/1982309.html">为Android安装BusyBox —— 完整的bash shell</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android开发问题汇总(二)]]></title>
    <link href="http://DamianSheldon.github.io/blog/problems-of-android-development-part-2.html"/>
    <updated>2016-10-14T08:59:43+08:00</updated>
    <id>http://DamianSheldon.github.io/blog/problems-of-android-development-part-2</id>
    <content type="html"><![CDATA[<h3>1.Error running app: Default Activity not found</h3>

<p>A: 问题的原因是 AndroidManifest.xml 文件配置的有问题。正确的样例如下：</p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="edu.self.buildexample"&gt;

&lt;application
android:allowBackup="true"
android:icon="@mipmap/ic_launcher"
android:label="@string/app_name"
android:supportsRtl="true"
android:theme="@style/AppTheme"&gt;

&lt;activity android:name=".BuildExampleActivity"&gt;
&lt;intent-filter&gt;
&lt;action android:name="android.intent.action.MAIN" /&gt;

&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
&lt;/intent-filter&gt;
&lt;/activity&gt;
&lt;/application&gt;
&lt;/manifest&gt;
</code></pre>

<h3>2. How to rename java package in Android Studio?</h3>

<p>A:<a href="http://stackoverflow.com/questions/16804093/android-studio-rename-package">Android Studio Rename Package</a></p>

<h3>3.No service of type Factory available in ProjectScopeServices</h3>

<p>A:Change maven gradle plugin version to 1.4.1 in project build.gradle file</p>

<pre><code>dependencies {
    classpath 'com.android.tools.build:gradle:2.2.2'
        classpath 'com.github.dcendents:android-maven-gradle-plugin:1.4.1'
}
</code></pre>

<p>Reference<a href="http://stackoverflow.com/questions/38825451/no-service-of-type-factory-available-in-projectscopeservices">No service of type Factory available in ProjectScopeServices</a></p>

<h3>4.Android Gradle cannot find symbol class Gson</h3>

<p>A:In my case, I just added this line:</p>

<pre><code>compile 'com.google.code.gson:gson:2.7'
</code></pre>

<p>on my app build.gradle file.</p>

<p>By now 2.7 is last current available version according to: <a href="https://mvnrepository.com/artifact/com.google.code.gson/gson">https://mvnrepository.com/artifact/com.google.code.gson/gson</a></p>

<p>Please check this repository to be sure you are using last available version.</p>

<p>Reference:<a href="http://stackoverflow.com/questions/17913704/android-gradle-cannot-find-symbol-class-gson">Android Gradle cannot find symbol class Gson</a></p>

<!--more-->


<h3>5.Gradle sync failed: The SDK Build Tools revision (19.0.0) is too low for project &lsquo;:app&rsquo;. Minimum required is 19.1.0</h3>

<p>A:设置更新版本的Build Tools:</p>

<pre><code>// Step 1
File &gt; Project Structure ... &gt; Modules(Select your module, eg:app) &gt; Properties &gt; Build Tools Version &gt; 25.0.0

// Step 2:
Module build.gradle

android {
    ...
    buildToolsVersion "25.0.0"
    ...
} 
</code></pre>

<h3>6.Gradle sync failed: Could not find method android() for arguments [build_5v1bwdgcgpex8ek4ayinac3qa$_run_closure3@6518ea53] on root project &lsquo;ActionBarDemo&rsquo; of type org.gradle.api.Project.</h3>

<p>A:Root project gradle hasn&rsquo;t method android(), so remove it and setting in module gradle.</p>

<h3>7.Failed to resolve: junit:junit:4.12</h3>

<p>A:It happens HTTPS is blocked by proxy, so we have to disable proxy.</p>

<pre><code>// Step 1
Android Studio &gt; Preferences... &gt; System Settings &gt; HTTP Proxy &gt; No Proxy

// Step 2: Uncomment http proxy settings in gradle.properties
#systemProp.http.proxyHost=mirrors.neusoft.edu.cn
#systemProp.http.proxyPort=80
</code></pre>

<p>Reference:<a href="http://stackoverflow.com/questions/32519219/error23-17-failed-to-resolve-junitjunit4-12">Failed to resolve: junit:junit:4.12</a></p>

<h3>7.Error:Please select Android SDK</h3>

<p>A:应用的Run 标红，打开弹出的对话底部提示error please select Android SDK.工程是从 eclipse 迁移过来的，target SDK 一开始是没安装的，安装之后标红依然没有消失。File > Project Structure&hellip; > Properties > Compile SDK Version 选择一个之前安装好的版本，工程构建之后标红消息，之后再选择刚安装的 target SDK 作为Compile SDK Version, 工程自动重新构建成功，标红消息。应该是安装 SDK
版本之后没有立即生效，连带 android.app 包都找不到。</p>

<h3>8.unknown attr app:popuptheme</h3>

<p>A:The reason is miss relate name space:xmlns:app=&ldquo;<a href="http://schemas.android.com/apk/res-auto">http://schemas.android.com/apk/res-auto</a>&rdquo;</p>

<pre><code>// Before
&lt;android.support.v7.widget.Toolbar
android:id="@+id/my_toolbar"
android:layout_width="match_parent"
android:layout_height="?attr/actionBarSize"
android:background="?attr/colorPrimary"
android:elevation="4dp"
android:theme="@style/ThemeOverlay.AppCompat.ActionBar"
app:popupTheme="@style/ThemeOverlay.AppCompat.Light"/&gt;

// After
&lt;android.support.v7.widget.Toolbar
xmlns:app="http://schemas.android.com/apk/res-auto"
android:id="@+id/my_toolbar"
android:layout_width="match_parent"
android:layout_height="?attr/actionBarSize"
android:background="?attr/colorPrimary"
android:elevation="4dp"
android:theme="@style/ThemeOverlay.AppCompat.ActionBar"
app:popupTheme="@style/ThemeOverlay.AppCompat.Light"/&gt;
</code></pre>

<h3>9.How to get Activity&rsquo;s content view?</h3>

<p>A:</p>

<pre><code>this.getWindow().getDecorView().findViewById(android.R.id.content)
or

this.findViewById(android.R.id.content)
or

this.findViewById(android.R.id.content).getRootView()
</code></pre>

<p>Reference:<a href="http://stackoverflow.com/questions/5273436/how-to-get-activitys-content-view">How to get Activity&rsquo;s content view?</a></p>

<h3>10.Conversion to Dalvik format failed with error 1</h3>

<pre><code>Dx 
UNEXPECTED TOP-LEVEL EXCEPTION:
    java.lang.RuntimeException: Exception parsing classes
    at com.android.dx.command.dexer.Main.processClass(Main.java:752)
    at com.android.dx.command.dexer.Main.processFileBytes(Main.java:718)
    at com.android.dx.command.dexer.Main.access$1200(Main.java:85)
    at com.android.dx.command.dexer.Main$FileBytesConsumer.processFileBytes(Main.java:1645)
    at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:170)
    at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)
    at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)
    at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)
    at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)
    at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)
    at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)
    at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)
    at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)
    at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)
    at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)
    at com.android.dx.cf.direct.ClassPathOpener.processDirectory(ClassPathOpener.java:229)
    at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:158)
at com.android.dx.cf.direct.ClassPathOpener.process(ClassPathOpener.java:144)
...
</code></pre>

<p>A:This android project dependent on serveral java projects, when I change these java project&rsquo;s jre from 1.8 to 1.6, it works. The deep reason isn&rsquo;t clear.</p>

<h3>11.Make the Input Box Fill in the Screen Width</h3>

<p>A: Setting the width to zero (0dp) improves layout performance because using &ldquo;wrap_content&rdquo; as the width requires the system to calculate a width that is ultimately irrelevant because the weight value requires another width calculation to fill the remaining space.</p>

<pre><code>&lt;EditText android:id="@+id/edit_message"
    android:layout_weight="1"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:hint="@string/edit_message" /&gt;
</code></pre>

<p>Reference:<a href="https://developer.android.google.cn/training/basics/firstapp/building-ui.html">Building a Simple User Interface</a></p>

<h3>12. TabHost.TabSpec is not an enclosing class.</h3>

<p>A:TabHost.TabSpec is not static so it requires an instance of the outer class.Using TabHost&rsquo;s newTabSpec method instead of new TabHost.TabSpec.</p>

<p>Reference:<a href="http://stackoverflow.com/questions/20252727/is-not-an-enclosing-class-java">Is not an enclosing class Java</a></p>

<h3>13. com.android.ide.common.process.ProcessException: Failed to execute aapt</h3>

<p>A: The reason is buildToolsVersion doesn&rsquo;t match compileSdkVersion, correct it in module gradle fix problem.</p>

<p>Reference:<a href="http://www.bokezhi.com/490.html">解决com.android.ide.common.process.ProcessException: Failed to execute aapt</a></p>

<h3>14. What is the difference between android:gravity and android:layout_gravity?</h3>

<p>A: The difference between android:gravity and android:layout_gravity is that android:gravity positions the contents of that view (i.e. what’s inside the view), whereas android:layout_gravity positions the view with respect to its parent (i.e. what the view is contained in).</p>

<p>Reference:<br/>
<a href="https://thinkandroid.wordpress.com/2010/01/14/how-to-position-views-properly-in-layouts/">How to Position Views Properly in Layouts</a></p>

<h3>15. Expected Resource of type ID</h3>

<p>A:It is a editor validation error as this is not a common way to deal with ids. So if your app supporting API 17 or higher, you can call View.generateViewId as</p>

<pre><code>titleView.setId(View.generateViewId());
</code></pre>

<p>and for API &lt; 17</p>

<ol>
<li>Open your project&rsquo;s res/values/ folder;</li>
<li>Create an xml filed called ids.xml with following content:</li>
</ol>


<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;item name="titleId" type="id" /&gt;
    &lt;item name="svId" type="id" /&gt;
&lt;/resources&gt;
</code></pre>

<p>then in your code,</p>

<pre><code>titleView.setId(R.id.titleId);

sv.setId(R.id.svId);
</code></pre>

<p>Reference:<a href="http://stackoverflow.com/questions/29696879/android-expected-resource-of-type-id">Android - Expected Resource of type ID</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android开发问题汇总(一)]]></title>
    <link href="http://DamianSheldon.github.io/blog/problems-of-android-development.html"/>
    <updated>2014-12-17T09:38:20+08:00</updated>
    <id>http://DamianSheldon.github.io/blog/problems-of-android-development</id>
    <content type="html"><![CDATA[<h3>1.Gradle使用代理服务器</h3>

<pre><code>// /Users/&lt;username&gt;/.gradle/gradle.properties (Mac)
# Http Proxy
systemProp.http.proxyHost=www.somehost.org
systemProp.http.proxyPort=8080
systemProp.http.proxyUser=userid
systemProp.http.proxyPassword=password
systemProp.http.nonProxyHosts=*.nonproxyrepos.com|localhost
</code></pre>

<p>Reference:<a href="https://www.leimingshan.com/gradle/">Gradle使用代理服务器</a></p>

<h3>2.设置Gradle home</h3>

<pre><code>// Mac OS X
Use local gradle distribution &gt; Gradle home &gt; /Applications/Android Studio.app/Contents/plugins/gradle
</code></pre>

<h3>3.The project is using an unsupported version of Gradle</h3>

<pre><code>The project is using an unsupported version of Gradle.
Please point to a supported Gradle version in the project's Gradle settings or in the project's Gradle wrapper (if applicable.)

Consult IDE log for more details (Help | Show Log)
</code></pre>

<!--more-->


<h3>4.Error:Error retrieving parent for item: No resource found that matches the given name &lsquo;android:Theme.AppCompat.Light&rsquo;.</h3>

<h3>5.Project'X' is missing required Java project &lsquo;Y&rsquo;</h3>

<p>Solution: Open Java project &lsquo;Y&rsquo;</p>

<h3>6.Unbound classpath container: &lsquo;Default System Library&rsquo;</h3>

<p>Solution: Eclipse > Preferences > Java > Installed JREs > Add > Standar VM > Select JRE Directory</p>

<p>My Mac JRE Directory is here:/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home/</p>

<h3>7.Eclipse Can&rsquo;t detect Android Device</h3>

<p>Solution: Disable device&rsquo;s usb debuggin then enable, It then prompted me for authorization for that computer, select ok, and then it worked fine.</p>

<p>Reference:<a href="http://stackoverflow.com/questions/8799982/why-eclipse-can-not-detect-android-device">http://stackoverflow.com/questions/8799982/why-eclipse-can-not-detect-android-device</a></p>

<h3>8.Unable to resolve target &ldquo;Android-5&rdquo;</h3>

<p>Solution:Android SDK Manager > Android 1.6 (API 4) > Intall</p>

<p>Eclipse > Preferences&hellip; > Android > Apply > OK</p>

<p>Project > Properties > Android > Project Build Target</p>

<h3>9.error: Error retrieving parent for item: No resource found that matches the given name &lsquo;@android:TextAppearance.Material.SearchResult.Subtitle&rsquo;.</h3>

<p>Solution:Project > Properties > Android > Project Build Target > 21</p>

<p>Reference:<a href="http://stackoverflow.com/questions/26457096/appcompat-v7-r21-returning-error-in-values-xml">http://stackoverflow.com/questions/26457096/appcompat-v7-r21-returning-error-in-values-xml</a></p>

<h3>10.Android studio Offline document path</h3>

<p>Solution:file:///Users/dongmeiliang/Library/Android/sdk/docs/index.html</p>

<p>Reference:<a href="http://stackoverflow.com/questions/4974309/android-sdk-and-developer-guide-offline-or-pdf">http://stackoverflow.com/questions/4974309/android-sdk-and-developer-guide-offline-or-pdf</a></p>

<h3>11.Error:Execution failed for task &lsquo;:app:processDebugManifest&rsquo;. Manifest merger failed : uses-sdk element cannot have a &ldquo;tools:node&rdquo; attribute</h3>

<p>Solution:Add this line to uses-sdk tag like this:</p>

<pre><code>&lt;uses-sdk
    tools:node="merge"   &lt;----This line do the magic
    android:minSdkVersion="14"
    android:targetSdkVersion="19" /&gt;
</code></pre>

<p>And add the tools name space in manifest :</p>

<pre><code>&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools" .....
.../&gt;
</code></pre>

<p>Reference:<a href="http://stackoverflow.com/questions/26688711/uses-sdk-element-cannot-have-a-toolsnode-attribute">http://stackoverflow.com/questions/26688711/uses-sdk-element-cannot-have-a-toolsnode-attribute</a></p>

<h3>12.Gradle DSL method not found: &lsquo;runProguard&rsquo;</h3>

<pre><code>Error:(27, 0) Gradle DSL method not found: 'runProguard()'
**Possible causes:
The project 'Atomic4Mobile' may be using a version of Gradle that does not contain the method.
**Gradle settings**
The build file may be missing a Gradle plugin.
**Apply Gradle plugin**
</code></pre>

<p>Solution:runProguard was renamed to minifyEnabled in version 0.14.0.</p>

<p>Reference:<a href="http://stackoverflow.com/questions/27078075/gradle-dsl-method-not-found-runproguard">http://stackoverflow.com/questions/27078075/gradle-dsl-method-not-found-runproguard</a></p>

<h3>13.error “Library projects cannot set applicationId”</h3>

<pre><code>Error: Library projects cannot set applicationId. applicationId is set to 'com.super.app' in default config.
</code></pre>

<p>Solution:Removing applicationId variable from the library&rsquo;s build.gradle file should resolve the issue.</p>

<p>Reference:<a href="http://stackoverflow.com/questions/27374933/android-studio-1-0-and-error-library-projects-cannot-set-applicationid">http://stackoverflow.com/questions/27374933/android-studio-1-0-and-error-library-projects-cannot-set-applicationid</a></p>

<h3>14.How to increase the font size in Android Studio?</h3>

<p>Solution: In mac book ,you can use two fingers to zoom in(increase font size) or zoom out for decrease font size, like when we zoomed image in mobilephone.</p>

<p>Reference:<a href="http://stackoverflow.com/questions/16590216/how-to-increase-the-font-size-in-android-studio">http://stackoverflow.com/questions/16590216/how-to-increase-the-font-size-in-android-studio</a></p>

<h3>15.Eclipse report error when loading the SDK</h3>

<pre><code>Error: Error parsing /Users/dongmeiliang/Library/Android/sdk/system-images/android-23/android-wear/armeabi-v7a/devices.xml
cvc-complex-type.2.4.d: Invalid content was found starting with element 'd:skin'. No child element is expected at this point.
Error: Error parsing /Users/dongmeiliang/Library/Android/sdk/system-images/android-23/android-wear/x86/devices.xml
cvc-complex-type.2.4.d: Invalid content was found starting with element 'd:skin'. No child element is expected at this point.
Error: Error parsing /Users/dongmeiliang/Library/Android/sdk/system-images/android-24/android-wear/armeabi-v7a/devices.xml
cvc-enumeration-valid: Value '280dpi' is not facet-valid with respect to enumeration '[ldpi, mdpi, tvdpi, hdpi, xhdpi, xxhdpi, xxxhdpi]'. It must be a value from the             enumeration.
Error: Error parsing /Users/dongmeiliang/Library/Android/sdk/system-images/android-24/android-wear/x86/devices.xml
cvc-enumeration-valid: Value '280dpi' is not facet-valid with respect to enumeration '[ldpi, mdpi, tvdpi, hdpi, xhdpi, xxhdpi, xxxhdpi]'. It must be a value from the             enumeration.
Error: Error parsing /Users/dongmeiliang/Library/Android/sdk/system-images/android-23/android-wear/armeabi-v7a/devices.xml
cvc-complex-type.2.4.d: Invalid content was found starting with element 'd:skin'. No child element is expected at this point.
Error: Error parsing /Users/dongmeiliang/Library/Android/sdk/system-images/android-23/android-wear/x86/devices.xml
cvc-complex-type.2.4.d: Invalid content was found starting with element 'd:skin'. No child element is expected at this point.
Error: Error parsing /Users/dongmeiliang/Library/Android/sdk/system-images/android-24/android-wear/armeabi-v7a/devices.xml
cvc-enumeration-valid: Value '280dpi' is not facet-valid with respect to enumeration '[ldpi, mdpi, tvdpi, hdpi, xhdpi, xxhdpi, xxxhdpi]'. It must be a value from the             enumeration.
Error: Error parsing /Users/dongmeiliang/Library/Android/sdk/system-images/android-24/android-wear/x86/devices.xml
cvc-enumeration-valid: Value '280dpi' is not facet-valid with respect to enumeration '[ldpi, mdpi, tvdpi, hdpi, xhdpi, xxhdpi, xxxhdpi]'. It must be a value from the             enumeration.
</code></pre>

<p>A:Delete the package Android Wear ARM EABI v7a system image and Android Wear X86 system image under API 23 and API 24.</p>

<p>Reference:<a href="http://stackoverflow.com/questions/30439524/error-loading-the-sdk-when-eclipse-is-started#30439524">Error Loading the sdk when eclipse is started</a></p>
]]></content>
  </entry>
  
</feed>
